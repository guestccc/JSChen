# jenkins

例如有三个服务器：

- `ym服务器`: 放源码,做仓库用
- `bs服务器`: 真实项目部署所在的服务器
- `jenkins服务器`: 跑jenkins的服务器

> 当然，真实情况肯定不会这么浪费的，这只是举例子哈

## 流程

1. 本地编程 -> 提交代码到 `ym服务器`（仓库）

2. `ym服务器` -> `jenkins服务器`

`ym服务器`（仓库），例如 `github` 可以配置一个 `webHooks` ，去发一个 `请求` 作为 `仓库变动通知` ，通知 `jenkins服务器`

3. `jenkins服务器` 拉取仓库最新代码 -> 打包构建，生成打包后的文件，例如: `dist` 

4. -> 再把 `dist` 打包成一个 `docker` 镜像 （`dist image`）

5. -> 再把镜像 （`dist image`）推到远程

5. -> 再通过 `ssh` 连接 `bs服务器` 服务器，停止容器，删除旧镜像，再跑一个新的

